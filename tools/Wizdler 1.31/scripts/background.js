var resources={};chrome.runtime.onMessage.addListener(function(e,t,r){var s=e&&e.command;switch(s){case"showPageAction":chrome.pageAction.show(t.tab.id),r();break;case"resources":r(resources[t.tab.id]),delete resources[t.tab.id];break;case"openEditor":var a={url:chrome.runtime.getURL("editor.html")+"#wsdl="+encodeURIComponent(e.url)+"&addr="+encodeURIComponent(e.address)+"&title="+encodeURIComponent(e.title)};chrome.tabs.create(a,function(t){resources[t.id]=e.resources,r()});break;case"ajax":var o=new XMLHttpRequest;return o.onreadystatechange=function(){4==o.readyState&&r(200===o.status||0===o.status?{text:o.responseText,headers:""}:{error:o.statusText,text:o.responseText,headers:o.getAllResponseHeaders()})},o.open(e.method,e.url,!0),s.contentType&&e.setRequestHeader("Content-Type",s.contentType),s.headers&&Object.keys(s.headers).forEach(function(e){o.setRequestHeader(e,s.headers[e])}),o.send(e.data),!0;default:r()}});